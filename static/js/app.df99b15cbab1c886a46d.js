webpackJsonp([1],{"1uuo":function(t,e){},"3xKi":function(t,e){},"8V3G":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(t){s("8V3G")},null,null).exports,r=s("/ocq"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},o,!1,function(t){s("1uuo")},"data-v-d8ec41bc",null).exports,s("mtWM");var l={name:"Restaurants",data:function(){return{map:null,lat:0,lng:0,marker:null,type:"restaurant",radius:1,places:[],service:null,infowindow:null,place_id:"",details:{},bounds:{ne:0,sw:0},isReverse:!1,sort:""}},methods:{initMap:function(){var t=this,e=this;navigator.geolocation.watchPosition(function(s){console.log(s.coords),e.lat=s.coords.latitude,e.lng=s.coords.longitude,e.map=new google.maps.Map(document.getElementById("map"),{center:{lat:e.lat,lng:e.lng},zoom:15,streetViewControl:!0,mapTypeControl:!1});var a={path:"M10.453 14.016l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM12 2.016q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z",fillColor:"purple",fillOpacity:.6,strokeWeight:0,rotation:0,scale:2,anchor:new google.maps.Point(15,30)};t.marker=new google.maps.Marker({icon:a,position:{lat:t.lat,lng:t.lng},map:t.map}),google.maps.event.addListener(t.map,"bounds_changed",function(){t.bounds=t.map.getBounds(),t.bounds.ne=t.bounds.getNorthEast(),t.bounds.sw=t.bounds.getSouthWest(),t.searchRestaurant()})})},createMarker:function(t){var e=this,s=new google.maps.Marker({map:e.map,position:t.geometry.location,name:t.name,vicinity:t.vicinity});e.map.getBounds().contains(s.getPosition())||s.setVisible(!1);var a=new google.maps.InfoWindow;google.maps.event.addListener(s,"click",function(){a.setContent('<div class="ui header">'+s.name+"</div><br><p>"+s.vicinity+"</p>"),a.open(e.map,s)})},searchRestaurant:function(){var t=this;this.service=new google.maps.places.PlacesService(this.map);var e=document.getElementById("more"),s=void 0;e.onclick=function(){e.disabled=!0,s&&s()},this.service.nearbySearch({bounds:this.bounds,type:["restaurant"]},function(a,n,i,r){if(n===google.maps.places.PlacesServiceStatus.OK){console.log(a),t.places=a;for(var o=0;o<20;o++)t.createMarker(a[o]);e.disabled=!i||!i.hasNextPage,i&&i.hasNextPage&&(s=function(){i.nextPage()})}})},showDetails:function(){var t=this,e=new google.maps.places.PlacesService(this.map),s={placeId:this.place_id,fields:["ALL"]};e.getDetails(s,function(e,s){s===google.maps.places.PlacesServiceStatus.OK&&e&&e.geometry&&e.geometry.location&&(console.log(e),t.details=e)})},calcDistance:function(t){return(google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(this.lat,this.lng),t)/1e3).toFixed(2)},DrawingRoute:function(t,e){var s="";s="WALKING"==e?"red":"DRIVING"==e?"blue":"green";var a=this;(new google.maps.DirectionsService).route({origin:{lat:this.lat,lng:this.lng},destination:t,travelMode:e,unitSystem:google.maps.UnitSystem.METRIC},function(t,e){if(e!==google.maps.DistanceMatrixStatus.OK)window.alert("Error was"+e);else{console.log(t);new google.maps.DirectionsRenderer({map:a.map,directions:t,polylineOptions:{strokeColor:s}})}})}},computed:{sortPlace:function(){var t=this;return t.places.sort(function(e,s){return e=e[t.sort],s=s[t.sort],t.isReverse?e-s:t.isReverse?void 0:s-e})}},mounted:function(){this.initMap()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"text-center text-secondary pb-2 "},[t._v("找吃的")]),t._v(" "),s("div",{staticClass:"google-map mx-auto mb-5 ",attrs:{id:"map"}}),t._v(" "),s("div",{staticClass:"outline d-flex justify-content-center mb-5"},[s("div",{staticClass:"restaurant"},[s("div",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v("店名")]),t._v(" "),s("th",{staticClass:"click",on:{click:function(e){t.sort="price_level",t.isReverse=!t.isReverse}}},[t._v("\n              價格水平\n              "),t._v(" "),"price_level"==t.sort?s("span",{staticClass:"icon",class:{inverse:t.isReverse}},[s("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),t._v(" "),s("th",{staticClass:"click",on:{click:function(e){t.sort="rating",t.isReverse=!t.isReverse}}},[t._v("\n              評價\n              "),"rating"==t.sort?s("span",{staticClass:"icon",class:{inverse:t.isReverse}},[s("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),t._v(" "),s("th",[t._v("距離")]),t._v(" "),s("th")]),t._v(" "),t._l(t.sortPlace,function(e){return s("tr",[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.price_level))]),t._v(" "),s("td",[t._v(t._s(e.rating))]),t._v(" "),s("td",[t._v(t._s(t.calcDistance(e.geometry.location))+" km")]),t._v(" "),s("td",[s("div",{staticClass:"btn btn-dark",on:{click:function(){t.place_id=e.place_id,t.showDetails()}}},[t._v("\n                詳細內容\n              ")])])])})],2)]),t._v(" "),s("div",{staticClass:"btn btn-primary",attrs:{id:"more"}},[t._v("更多餐廳")])]),t._v(" "),Object.keys(t.details).length?s("div",{staticClass:"detailList ml-2 py-4 d-flex justify-content-around"},[s("div",{staticClass:" infodata mt-3  mx-3 "},[s("div",{staticClass:"name "},[s("div",{staticClass:"d-flex"},[s("h5",[t._v("餐廳")]),t._v(" "),Object.keys(t.details).length&&t.details.opening_hours.open_now?s("div",{staticClass:"openLabel"},[t._v("\n              營業中\n            ")]):s("div",{staticClass:"closeLabel"},[t._v("休息中")])]),t._v(" "),s("p",[t._v(t._s(t.details.name))])]),t._v(" "),s("div",{staticClass:"price_level"},[s("h5",[t._v("價錢程度：")]),t._v(" "),t._l(t.details.price_level,function(e){return s("span",[t._v("$")])})],2),t._v(" "),s("div",{staticClass:"address"},[s("h5",[t._v("地址：")]),t._v(" "),s("p",[t._v(t._s(t.details.formatted_address))])]),t._v(" "),s("div",{staticClass:"phoneNumber"},[s("h5",[t._v("電話：")]),t._v(" "),s("p",[t._v(t._s(t.details.formatted_phone_number))])]),t._v(" "),s("div",{staticClass:"rating"},[s("h5",[t._v("評分："+t._s(t.details.rating))])]),t._v(" "),s("hr"),t._v(" "),s("div",[s("h5",[t._v("行車路線")]),t._v(" "),s("div",{staticClass:"DistanceBy"},[s("div",{staticClass:"btn btn-primary",on:{click:function(e){return t.DrawingRoute(t.details.geometry.location,"WALKING")}}},[t._v("\n              步行\n            ")]),t._v(" "),s("div",{staticClass:"btn btn-primary",on:{click:function(e){return t.DrawingRoute(t.details.geometry.location,"DRIVING")}}},[t._v("\n              開車\n            ")]),t._v(" "),s("div",{staticClass:"btn btn-primary",on:{click:function(e){return t.DrawingRoute(t.details.geometry.location,"TRANSIT")}}},[t._v("\n              大眾交通運輸\n            ")])])])]),t._v(" "),s("div",{staticClass:"reviews"},t._l(t.details.reviews,function(e){return s("div",{key:e.id,staticClass:"reviewOfRating mb-2 px-2 py-2"},[s("h6",[t._v("\n            姓名: "),s("span",[t._v(t._s(e.author_name))])]),t._v(" "),s("h6",[t._v("\n            評價：\n            "),t._l(e.rating,function(e){return s("span",[t._v("★")])})],2)])}),0)]):t._e()])])},staticRenderFns:[]};var v=s("VU/8")(l,c,!1,function(t){s("3xKi")},"data-v-40cc68bb",null).exports;a.a.use(r.a);var u=new r.a({routes:[{path:"/",name:"Restaurant",component:v}]});s("K3J8");a.a.config.productionTip=!1,new a.a({el:"#app",router:u,components:{App:i},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.df99b15cbab1c886a46d.js.map